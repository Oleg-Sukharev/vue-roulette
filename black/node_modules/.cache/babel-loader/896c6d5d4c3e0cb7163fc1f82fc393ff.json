{"remainingRequest":"/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/babel-loader/lib/index.js!/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oleg/Desktop/magic/local/vue-roulette/black/src/components/TestView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oleg/Desktop/magic/local/vue-roulette/black/src/components/TestView.vue","mtime":1596739674584},{"path":"/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oleg/Desktop/magic/local/vue-roulette/black/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRlc3RTdGFydFNjcmVlbiBmcm9tICcuL1Rlc3QvVGVzdFN0YXJ0U2NyZWVuJzsKaW1wb3J0IFRlc3RpbmdTY3JlZW4gZnJvbSAnLi9UZXN0L1Rlc3RpbmdTY3JlZW4nOwppbXBvcnQgVGVzdEZpbmlzaFNjcmVlbiBmcm9tICcuL1Rlc3QvVGVzdEZpbmlzaFNjcmVlbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGVzdCcsCiAgY29tcG9uZW50czogewogICAgVGVzdFN0YXJ0U2NyZWVuOiBUZXN0U3RhcnRTY3JlZW4sCiAgICBUZXN0aW5nU2NyZWVuOiBUZXN0aW5nU2NyZWVuLAogICAgVGVzdEZpbmlzaFNjcmVlbjogVGVzdEZpbmlzaFNjcmVlbgogIH0sCiAgcHJvcHM6IHsKICAgIHF1ZXN0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgcHJpemVzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRlc3RTdGF0ZTogMCwKICAgICAgdGVzdFJlc3VsdDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YXJnZXRQcml6ZTogZnVuY3Rpb24gdGFyZ2V0UHJpemUoKSB7CiAgICAgIHJldHVybiB0aGlzLnByaXplcy5maW5kKGZ1bmN0aW9uIChwcml6ZSkgewogICAgICAgIHJldHVybiBwcml6ZS5pc1RhcmdldFByaXplOwogICAgICB9KTsKICAgIH0sCiAgICBjdXJyZW50U2NyZWVuOiBmdW5jdGlvbiBjdXJyZW50U2NyZWVuKCkgewogICAgICBzd2l0Y2ggKHRoaXMudGVzdFN0YXRlKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgcmV0dXJuICdUZXN0U3RhcnRTY3JlZW4nOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gJ1Rlc3RpbmdTY3JlZW4nOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gJ1Rlc3RGaW5pc2hTY3JlZW4nOwogICAgICB9CiAgICB9LAogICAgY3VycmVudFNjcmVlblByb3BzOiBmdW5jdGlvbiBjdXJyZW50U2NyZWVuUHJvcHMoKSB7CiAgICAgIHN3aXRjaCAodGhpcy50ZXN0U3RhdGUpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBxdWVzdGlvbnM6IHRoaXMucXVlc3Rpb25zCiAgICAgICAgICB9OwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBleHRlcm5hbExpbms6ICcjJywKICAgICAgICAgICAgdGVzdFJlc3VsdDogdGhpcy50ZXN0UmVzdWx0LAogICAgICAgICAgICBwcml6ZTogdGhpcy50YXJnZXRQcml6ZQogICAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbmV4dEhhbmRsZXI6IGZ1bmN0aW9uIG5leHRIYW5kbGVyKGUpIHsKICAgICAgdGhpcy50ZXN0U3RhdGUrKzsKICAgIH0sCiAgICB0ZXN0UmVzdWx0SGFuZGxlcjogZnVuY3Rpb24gdGVzdFJlc3VsdEhhbmRsZXIocmVzdWx0KSB7CiAgICAgIHZhciByZWR1Y2VyID0gZnVuY3Rpb24gcmVkdWNlcihhY2MsIGtleSkgewogICAgICAgIHJldHVybiByZXN1bHRba2V5XSA9PT0gJ3N1Y2Nlc3MnID8gKythY2MgOiBhY2M7CiAgICAgIH07CgogICAgICB0aGlzLnRlc3RSZXN1bHQgPSBPYmplY3Qua2V5cyhyZXN1bHQpLnJlZHVjZShyZWR1Y2VyLCAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["TestView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAYA,OAAA,eAAA,MAAA,wBAAA;AACA,OAAA,aAAA,MAAA,sBAAA;AACA,OAAA,gBAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,eAAA,EAAA,eADA;AAEA,IAAA,aAAA,EAAA,aAFA;AAGA,IAAA,gBAAA,EAAA;AAHA,GAFA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AAFA,KALA;AASA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AATA,GAPA;AAqBA,EAAA,IArBA,kBAqBA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,CADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GA1BA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,KAAA;AAAA,eAAA,KAAA,CAAA,aAAA;AAAA,OAAA,CAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AACA,cAAA,KAAA,SAAA;AACA,aAAA,CAAA;AACA,iBAAA,iBAAA;;AACA,aAAA,CAAA;AACA,iBAAA,eAAA;;AACA,aAAA,CAAA;AACA,iBAAA,kBAAA;AANA;AAQA,KAbA;AAcA,IAAA,kBAdA,gCAcA;AACA,cAAA,KAAA,SAAA;AACA,aAAA,CAAA;AACA,iBAAA;AACA,YAAA,SAAA,EAAA,KAAA;AADA,WAAA;;AAGA,aAAA,CAAA;AACA,iBAAA;AACA,YAAA,YAAA,EAAA,GADA;AAEA,YAAA,UAAA,EAAA,KAAA,UAFA;AAGA,YAAA,KAAA,EAAA,KAAA;AAHA,WAAA;AANA;AAYA;AA3BA,GA3BA;AAwDA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,CADA,EACA;AACA,WAAA,SAAA;AACA,KAHA;AAIA,IAAA,iBAJA,6BAIA,MAJA,EAIA;AACA,UAAA,OAAA,GAAA,SAAA,OAAA,CAAA,GAAA,EAAA,GAAA;AAAA,eAAA,MAAA,CAAA,GAAA,CAAA,KAAA,SAAA,GAAA,EAAA,GAAA,GAAA,GAAA;AAAA,OAAA;;AACA,WAAA,UAAA,GAAA,MAAA,CAAA,IAAA,CAAA,MAAA,EAAA,MAAA,CAAA,OAAA,EAAA,CAAA,CAAA;AACA;AAPA;AAxDA,CAAA","sourcesContent":["<template>\n  <transition name=\"fade-in-screen\" mode=\"out-in\" class=\"test-screen-hide\">\n    <component\n      :is=\"currentScreen\"\n      :data=\"data\"\n      v-bind=\"currentScreenProps\"\n      @next=\"nextHandler\"\n      @test-result=\"testResultHandler\"/>\n  </transition>\n</template>\n\n<script>\nimport TestStartScreen from './Test/TestStartScreen';\nimport TestingScreen from './Test/TestingScreen';\nimport TestFinishScreen from './Test/TestFinishScreen';\n\nexport default {\n  name: 'Test',\n  components: {\n    TestStartScreen,\n    TestingScreen,\n    TestFinishScreen,\n  },\n  props: {\n    questions: {\n      type: Array,\n      default: () => [],\n    },\n    prizes: {\n      type: Array,\n      required: true,\n    },\n    data: {\n      type: Object,\n      required: true,\n    }\n  },\n  data() {\n    return {\n      testState: 0,\n      testResult: 0,\n    };\n  },\n  computed: {\n    targetPrize() {\n      return this.prizes.find(prize => prize.isTargetPrize);\n    },\n    currentScreen() {\n      switch (this.testState) {\n        case 0:\n          return 'TestStartScreen';\n        case 1:\n          return 'TestingScreen';\n        case 2:\n          return 'TestFinishScreen';\n      }\n    },\n    currentScreenProps() {\n      switch (this.testState) {\n        case 1:\n          return {\n            questions: this.questions\n          };\n        case 2:\n          return {\n            externalLink: '#',\n            testResult: this.testResult,\n            prize: this.targetPrize,\n          };\n      }\n    },\n  },\n  methods: {\n    nextHandler(e) {\n      this.testState++;\n    },\n    testResultHandler(result) {\n      const reducer = (acc, key) => result[key] === 'success' ? ++acc : acc;\n      this.testResult = Object.keys(result).reduce(reducer, 0);\n    },\n  },\n};\n</script>\n\n<style>\n.test__body {\n  margin-top: 1rem;\n}\n\n.footer {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 0.5rem;\n}\n\n.fade-in-screen-enter-active, .fade-in-screen-leave-active {\n  transition: all 0.2s;\n}\n.fade-in-screen-leave-to {\n  transform: scale(0.9) translateX(-120%);\n}\n.fade-in-screen-enter {\n  transform: scale(0.9) translateX(100%);\n}\n.test-screen-hide:after  {\n  content: \"\";\n  position: absolute;\n  top: 5%;\n  height: 90%;\n  width: 15px;\n  transition: all 0.2s;\n  background-color: #907EFF;\n  left: 0;\n  border-top-right-radius: 21px;\n  border-bottom-right-radius: 21px;\n}\n</style>"],"sourceRoot":"src/components"}]}